# 🧪 캡슐화(Encapsulation) - C++ 객체지향 핵심 개념

## ✅ 캡슐화란?

**캡슐화(Encapsulation)**는  
**데이터(멤버 변수)**와 **그 데이터를 다루는 함수(멤버 함수)**를 하나로 묶고,  
**외부에서 직접 접근하지 못하게 막는 객체지향 프로그래밍(OOP)의 핵심 원칙**이다.

> 쉽게 말해:  
> **"중요한 건 감추고, 필요한 것만 공개한다."**

---

## ✅ 왜 캡슐화가 필요한가?

| 이유               | 설명 |
|--------------------|------|
| 무분별한 접근 차단 | 변수나 함수에 아무나 접근해서 잘못 수정하는 걸 방지 |
| 코드 안정성 증가    | 데이터 손상 가능성 줄임 |
| 유지보수 용이       | 내부 구현을 바꾸더라도 외부 인터페이스는 그대로 유지 가능 |
| 일관성 보장         | 함수 내부에서 값 검사를 통해 올바른 상태 유지 가능 |

---

## ✅ 캡슐화 구현 방법

C++에서는 다음을 통해 캡슐화를 구현할 수 있다:

1. **멤버 변수를 `private`로 선언**
2. **외부에서는 직접 접근하지 못하게 제한**
3. **`public`한 Getter / Setter 함수로 접근을 제한적으로 허용**

---

## ✅ 예제 코드

```cpp
class Account {
private:
    int balance;  // 외부에서 직접 접근 금지

public:
    void deposit(int amount) {
        if (amount > 0) balance += amount;
    }

    void withdraw(int amount) {
        if (amount > 0 && amount <= balance) balance -= amount;
    }

    int getBalance() const {
        return balance;
    }
};

int main() {
    Account myAcc;
    myAcc.deposit(1000);
    myAcc.withdraw(500);
    cout << "현재 잔액: " << myAcc.getBalance() << "원";
}
```

- `balance`는 외부에서 `myAcc.balance = -1000;` 같은 식으로 직접 접근할 수 없음
- 반드시 `deposit`, `withdraw`, `getBalance`를 통해서만 조작 가능

---

## ✅ 접근 지정자 요약

| 지정자     | 설명                                  |
|------------|---------------------------------------|
| `private`  | 외부 접근 불가, 클래스 내부에서만 사용 |
| `public`   | 외부 어디서든 접근 가능                |
| `protected`| 자식 클래스에서는 접근 가능            |

---

## ✅ 캡슐화 vs 정보 은닉

| 개념       | 설명 |
|------------|------|
| 캡슐화     | 데이터와 기능을 하나로 묶는 개념 |
| 정보 은닉 | 외부로부터 내부 구현을 숨김 (캡슐화의 결과) |

---

## ✅ 요약 정리

| 항목        | 설명 |
|-------------|------|
| 정의        | 데이터 + 기능을 하나로 묶고 외부 접근을 제한 |
| 구현 방법   | private 멤버 + public 함수 |
| 장점        | 보안성, 안정성, 유지보수성 향상 |
| 관련 개념   | 접근 지정자, Getter/Setter, 정보 은닉 |

---

**캡슐화는 객체지향 설계에서 가장 기본이면서도 중요한 원칙 중 하나로,  
"잘 숨기고, 잘 열어주자"는 철학을 가진 구조화 방법이다.**
